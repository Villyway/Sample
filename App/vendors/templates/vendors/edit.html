{% extends "base.html" %}
{% load static %}

{% block title %}Add New Vendor{% endblock %}

{% block css %}
<link rel="stylesheet" href="https://basuriautomotive.com/assets/css/aiz-core.css">
{% endblock css %}

{% block next_page %}
<li class="breadcrumb-item text-muted active" aria-current="page"><a
        href="{% url 'vendors:vendor-list' %}">Vendors</a> / <b class="text-dark">Edit<b></li>
{% endblock %}

{% block head %}
New Vendor
{% endblock %}

{% block content %}
<div class="row">
        <div class="col-md-12 mt-3">
                <div class="card mb-4">
                  <h5 class="card-header">Edit Vendor</h5>
                  <div class="card-body">
                        <form method="post">
                                {% csrf_token %}
                                {{form}}
                                <button class="btn btn-success mt-3" type="submit">Edit</button>
                        </form>
                      
                    </div>
                  </div>
                </div>
              </div>
</div>
{% endblock %}

{% block js %}
<script>
        $(document).ready(function () {
            $("#id_state").change(function () {
                $('#id_city').empty().append('<option>--- Select City ---</option>');
                var id = $(this).find(":selected").val();
                $.ajax({
                    type: 'GET',
                    url: "{% url 'utils:city' 1  %}".replace("1", id),
                    success: function (response) {
                        for (i in response.cities) {
                            $("#id_city").append("<option value='" + response.cities[i].id + "'>" + response.cities[i].name + "</option>");
                        }
                    },
                    error: function (error) {
                        console.log(error)
                    }
                })
            })
    
            $("#id_country").change(function () {
                $('#id_state').empty().append('<option>--- Select State ---</option>');
                var id = $(this).find(":selected").val();
                $.ajax({
                    type: 'GET',
                    url: "{% url 'utils:state' 1  %}".replace("1", id),
                    success: function (response) {
                        for (i in response.states) {
                            $("#id_state").append("<option value='" + response.states[i].id + "'>" + response.states[i].name + "</option>");
                        }
                    },
                    error: function (error) {
                        console.log(error)
                    }
                })
            })
    
        });
    </script>
    <script>
        $('#vendor-menu').addClass('active open');
      </script>
{% endblock %}